# Copyright © {{COPYRIGHT_YEARS}} {{AUTHOR}}. All rights reserved.

#!————————————————————————————————————————————————————————————————————————————*!
# Entry point for https://app.wercker.com/. Instructs wercker to check that
# every branch passes linting and testing, activated on every commit. For more
# documentation, see https://devcenter.wercker.com/.
#
# Note: This file was auto-generated by `grunt generate-wercker`. It is not
#       recommended to modify this file. For more information, see
#       https://github.com/brandonLi8/grunt-config/.
#
# @author {{AUTHOR}} <{{AUTHOR_EMAIL}}>
#!————————————————————————————————————————————————————————————————————————————*!

box: node                           # Use the default Node.js container.
build:
  steps:

    - script:                       # Install Node.js
      name: Install Node.js
      code: |
        npm cache clean --f         # Clear all data from the npm cache.
        npm i                       # Install dependencies.

        echo "node: $( node -v )"   # Display the Node version.
        echo "npm: $( npm -v )"     # Display the npm version.

    - script:                       # Install grunt globally.
      name: Install Grunt
      code: npm i -g grunt-cli

    - script:                       # Run testing commands.
      name: Continuous Integration
      code: |
        grunt eslint --no-cache     # Ensure all source code is lint-free.

        grunt check-copyright       # Ensure that all source code copyright
                                    # statements are correct.

        npm test --if-present       # Ensure that project-defined tests pass.
    - script:
      code: echo "Bye!"