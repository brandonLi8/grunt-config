# Copyright © 2019-2020 Brandon Li. All rights reserved.

#!————————————————————————————————————————————————————————————————————————————*!
# Entry point for https://travis-ci.org/. Instructs travis to check that every
# branch passes linting and testing on every commit.
#
# IMPORTANT: This file was auto-generated by `grunt generate-travis`. It is
#            recommended to not modify this file. For more information, see
#            https://github.com/brandonLi8/grunt-config/.
#
# NOTE: Travis is now DEPRECATED due to the recent acquisition and layoffs.
#       See https://techcrunch.com/2019/01/23/idera-acquires-travis-ci/.
#
# @author Brandon Li <brandon.li820@gmail.com>
#!————————————————————————————————————————————————————————————————————————————*!

language:
  node_js                         # use Node.js

node_js:
  - node                          # tentative version

branches:
  only:
    - /.*/                        # test every branch. This file needs to be present on all branches as well.

before_script:
  - npm prune -production=true    # prune - ensure a fresh copy of node_modules
  - npm cache clean --f           # clear the cache to ensure validity of node_modules
  - npm install                   # install dependencies

script:
  - grunt eslint --no-cache       # ensure everything is linted
  - npm test --if-present         # run tests

after_script:
  - echo Bye!